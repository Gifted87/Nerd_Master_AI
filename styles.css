/* Dark Glossy Theme - Improved with Gradients and Enhanced Glass */
:root {
  --primary-color: #8b5cf6; /* Vibrant purple */
  --secondary-color: #4b5563; /* Darker gray */
  --accent-color: #fcd34d; /* Muted gold for highlights */
  --background-color: #0b111d; /* Deeper dark charcoal */
  --glass-bg: rgba(
    27,
    35,
    52,
    0.5
  ); /* Slightly lighter glass for better gradient visibility */
  --glass-border: rgba(55, 65, 81, 0.4); /* Less opaque border */
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px -1px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 6px 8px -3px rgba(0, 0, 0, 0.5),
    0 4px 6px -2px rgba(0, 0, 0, 0.6);
  --border-radius: 0.5rem;
  font-size: 13px;
  font-family: "Poppins", sans-serif;
  box-sizing: border-box;
  scroll-behavior: smooth;
}

*,
::before,
::after {
  box-sizing: inherit;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--background-color);
  /* Beautiful gradient for depth - ADDED GRADIENT HERE */
  background-image: radial-gradient(
      circle at center center,
      #1e293b,
      var(--background-color)
    ),
    /* Radial gradient added */
      linear-gradient(to bottom right, #0f172a, var(--background-color));
  background-blend-mode: normal, normal; /* Ensure gradients blend normally if both are used */

  color: var(--text-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

.hidden {
  display: none !important;
}

/* Overlay Styles */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8); /* Slightly darker overlay */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.overlay__container {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(12px) saturate(150%); /* Increased blur and saturation */
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border-radius: var(--border-radius);
  padding: 2rem;
  box-shadow: var(--shadow-md);
  text-align: center;
}

.verify-email__text {
  margin-bottom: 1rem;
  font-weight: 500;
}

.verify-email__close-button {
  background-color: var(--primary-color);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.verify-email__close-button:hover {
  background-color: #7c3aed;
}

/* App Container */
.app-container {
  display: flex;
  width: 100%;
  /* max-width: 1200px; */
  height: 90vh;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(15px) saturate(150%);
  -webkit-backdrop-filter: blur(15px) saturate(150%);
  /* border-radius: 1rem; */
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

/* Sidebar */
.sidebar {
  width: 250px;
  background: transparent;
  border-right: 1px solid var(--glass-border);
  display: flex;
  flex-direction: column;
  z-index: 2; /* Ensure sidebar is above the chat area */
  /* Subtle gradient for the sidebar */
  background-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0),
    rgba(0, 0, 0, 0.1)
  );
}

.sidebar__header {
  padding: 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.sidebar__site-title {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
}

.sidebar__actions {
  display: flex;
  gap: 0.5rem;
}

.sidebar__button {
  background: rgba(
    255,
    255,
    255,
    0.03
  ); /* Slightly visible background on buttons */
  border: none;
  color: var(--text-secondary);
  font-size: 1rem;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 50%;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.sidebar__button:hover {
  background-color: rgba(255, 255, 255, 0.08);
  color: var(--primary-color);
}

.sidebar__nav {
  /* flex-grow: 1; */
  overflow-y: auto;
  padding: 0 1rem;
  margin-bottom: 2rem;
}

.sidebar__conversation-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebar__conversation-list li {
  padding: 0.4rem;
  margin-bottom: 0.5rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: background-color 0.3s ease;
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.sidebar__conversation-list li:hover,
.sidebar__conversation-list li.selected {
  background-color: rgba(var(--primary-color-rgb), 0.2);
  color: var(--primary-color);
  font-weight: 500;
}

/* Chat Area */
.chat-area {
  /* flex-grow: 0; */
  /* background-color: wheat; */
  display: flex;
  width: 100%;
  max-width: 95%;
  flex-direction: column;
}

#chat-app {
  display: flex;
  /* flex-direction: column; */
  width: 100%;
  height: 100vh;
}

.chat-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--glass-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat-header__title {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
}

.chat-messages {
  /* flex-grow: 1; */
  height: 100vh;
  padding: 1rem;
  overflow-y: auto;
  display: flex;
  width: 99%;
  flex-direction: column;
  gap: 1rem;
  /* padding-right: 100px; */
}

/* styles.css - Add this at the end of the file or within a relevant section */
.initial-message {
  padding: 1.5rem 2rem; /* Increased padding - keeping this for spacing */
  text-align: center;
  /* color: var(--accent-color);  Removed direct color, using gradient below */
  font-size: 2.5rem; /* Slightly larger font size */
  font-weight: 700; /* Even bolder font weight */
  background-color: rgba(
    255,
    255,
    255,
    0.05
  ); /* Subtle background - keeping this */
  border-radius: var(--border-radius);
  /* box-shadow: var(--shadow-sm); Subtle shadow - keeping this */
  margin: 2rem auto; /* Margin - keeping this */
  margin-bottom: 0;
  padding-bottom: 0;
  width: fit-content; /* Width - keeping this */
  max-width: 90%; /* Max width - keeping this */

  /* NEW TEXT STYLES BELOW */
  background-image: linear-gradient(
    to right,
    var(--accent-color),
    var(--primary-color)
  ); /* Text gradient */
  -webkit-background-clip: text; /* Clip background to text */
  color: transparent; /* Make text transparent to show gradient */
  letter-spacing: 0.05em; /* Slightly increase letter spacing for style */
  text-shadow: 0 0 5px rgba(var(--primary-color-rgb), 0.5); /* Subtle glow effect */
}

.message {
  padding: 0.75rem 1rem;
  border-radius: var(--border-radius);
  max-width: 100%;
  clear: both;
  position: relative;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
}

.message--user {
  align-self: flex-end;
  background-color: var(
    --primary-color
  ); /* Solid primary color for user messages */
  color: white; /* White text on primary background */
  text-align: left;
  max-width: 80%;
  border-radius: 0.5rem 0.5rem 0 0.5rem; /* Rounded corners on the left */
  /* Add a subtle gradient to user messages */
  background-image: linear-gradient(to right, #7c3aed, var(--primary-color));
}

.message--bot {
  align-self: center;
  width: 80%;
  text-align: left;
  border-radius: 0.5rem 0.5rem 0.5rem 0.5rem;
}
.message__timestamp {
  position: absolute;
  bottom: 0.2rem;
  font-size: 0.75rem;
  color: var(--text-secondary);
  display: none;
}

.message--user .message__timestamp {
  right: 0.5rem;
  color: rgba(255, 255, 255, 0.7); /* Lighter timestamp on user message */
  display: none;
}

.message--bot .message__timestamp {
  left: 0.5rem;
  display: none;
}

.typing-indicator {
  padding: 0.5rem 1rem;
  font-size: 0.85rem;
  color: var(--text-secondary);
  font-style: italic;
  position: fixed;
  z-index: 10;
}

.loading-previous-messages {
  display: flex;
  justify-content: center;
  padding: 1rem;
}

.loading-spinner {
  border: 4px solid rgba(255, 255, 255, 0.1);
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border-left-color: var(--primary-color);
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Chat Input Area */
.chat-input-area {
  padding: 1rem;
  border-top: 1px solid var(--glass-border);
  /* Subtle gradient for the input area */
  background-image: linear-gradient(
    to left,
    rgba(0, 0, 0, 0),
    rgba(0, 0, 0, 0.1)
  );
}

.input-area {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.input-area__input {
  flex-grow: 1;
  padding: 0.75rem;
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  background: var(--glass-bg);
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  color: var(--text-primary);
  outline: none;
  transition: border-color 0.3s ease;
  font-family: "Poppins", sans-serif;

  min-height: 3rem; /* Minimum height */
  max-height: 30rem; /* Maximum height before scrolling */
  overflow-y: auto; /* Show scrollbar when content exceeds max height */
  resize: none; /* Disable manual resizing */
  transition: height 0.2s ease-out;
}

.input-area__input:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.5);
}

.input-area__button {
  background-color: var(--primary-color);
  color: white;
  border: none;
  padding: 0.75rem 1.25rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-weight: 500;
  transition: background-color 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  /* Add a subtle gradient to the send button */
  background-image: linear-gradient(to bottom, var(--primary-color), #7c3aed);
}

.input-area__button:hover {
  background-color: #7c3aed;
  /* Darken the gradient on hover */
  background-image: linear-gradient(to bottom, #7c3aed, #6b21bc);
}

/* Auth Container */
.auth-container {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(15px) saturate(150%);
  -webkit-backdrop-filter: blur(15px) saturate(150%);
  border-radius: 1rem;
  padding: 2rem;
  box-shadow: var(--shadow-md);
  width: 90%;
  max-width: 400px;
  text-align: center;
}

.auth-container__title {
  margin-bottom: 1.5rem;
  font-size: 1.75rem;
  font-weight: 600;
}

.auth-container__form-wrapper {
  margin-bottom: 1.5rem;
}

.auth-form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  text-align: left;
}

.form-group__label {
  margin-bottom: 0.3rem;
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.form-group__input {
  padding: 0.75rem;
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  background: var(--glass-bg); /* Use glass background for input */
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  color: var(--text-primary);
  outline: none;
  transition: border-color 0.3s ease;
}

.form-group__input:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.5);
}

.auth-form__button {
  background-color: var(--primary-color);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-weight: 500;
  transition: background-color 0.3s ease;
  /* Add a subtle gradient to auth buttons */
  background-image: linear-gradient(to bottom, var(--primary-color), #7c3aed);
}

.auth-form__button:hover {
  background-color: #7c3aed;
  /* Darken the gradient on hover */
  background-image: linear-gradient(to bottom, #7c3aed, #6b21bc);
}

.auth-switch-text {
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.auth-switch-text a {
  color: var(--primary-color);
  text-decoration: none;
  transition: color 0.3s ease;
}

.auth-switch-text a:hover {
  color: #7c3aed;
}

.error-message {
  background-color: #450a0a;
  color: #f87171;
  padding: 0.75rem;
  border-radius: var(--border-radius);
  margin-bottom: 1rem;
  font-size: 0.9rem;
  border: 1px solid #991b1b;
}

.sidebar-toggle-button {
  display: none;
}

/* Responsive Design */
@media (max-width: 768px) {
  .app-container {
    flex-direction: column;
    width: 100%;
    height: 100vh;
    border-radius: 0;
  }

  .sidebar {
    position: fixed;
    top: 0;
    left: -250px; /* Initially hide sidebar off-screen */
    width: 250px;
    height: 100vh;
    border-right: none;
    border-bottom: none;
    box-shadow: var(--shadow-md);
    transition: transform 0.3s ease-in-out;
    background-color: var(--glass-bg); /* Ensure background for visibility */
    backdrop-filter: blur(15px) saturate(150%);
    -webkit-backdrop-filter: blur(15px) saturate(150%);
  }

  .sidebar.open {
    transform: translateX(250px); /* Slide in the sidebar */
  }

  .chat-area {
    height: 100vh; /* Chat area takes full height on mobile */
  }

  .sidebar__header {
    padding: 1rem;
  }

  .sidebar__nav {
    padding: 0.5rem;
  }

  .chat-header {
    padding: 1rem;
  }

  .chat-messages {
    padding: 0.75rem;
  }

  .chat-input-area {
    padding: 0.75rem;
  }

  .auth-container {
    width: 95%;
    padding: 1.5rem;
  }

  .chat-header {
    position: relative; /* To position the menu button */
  }

  .chat-area {
    /* flex-grow: 1; */
    display: flex;
    width: 100%;
    max-width: 100%;
    flex-direction: column;
  }

  .message--bot {
    align-self: center;
    /* width: auto; */
    flex-grow: 0;
    width: 100%;
    text-align: left;
    border-radius: 0.5rem 0.5rem 0.5rem 0.5rem;
  }

  .sidebar-toggle-button {
    position: absolute;
    display: block;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: var(--text-primary);
    font-size: 1.2rem;
    cursor: pointer;
  }

  .chat-area {
    padding-left: 0; /* Reset left padding to accommodate the toggle button */
  }

  .chat-header__title {
    margin-left: 30px; /* Adjust title margin when toggle is present */
  }
}

/* Message Actions */
.message__actions {
  position: absolute;
  top: 0.5rem;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  display: flex;
  gap: 0.3rem;
}

.message--user .message__actions {
  left: 0.5rem;
}

.message--bot .message__actions {
  right: 0.5rem;
}

.message:hover .message__actions {
  opacity: 1;
}

.message__actions button {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 0.8rem;
  padding: 0.2rem;
  transition: color 0.2s ease-in-out;
}

.message__actions button:hover {
  color: var(--primary-color);
}

.message__copy-button {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background: transparent;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 0.8rem;
  padding: 0.2rem;
  transition: color 0.2s ease-in-out;
  opacity: 0;
}

.message--user .message__copy-button {
  color: rgba(255, 255, 255, 0.7); /* Match timestamp color */
}

.message:hover .message__copy-button {
  opacity: 1;
}

.message__copy-button:hover {
  color: var(--primary-color);
}

/* Remove Default Scrollbar Styling (Webkit Browsers - Chrome, Safari) */
::-webkit-scrollbar {
  width: 8px;
  background-color: transparent; /* Make scrollbar track transparent */
}

::-webkit-scrollbar-thumb {
  background-color: rgba(
    85,
    85,
    85,
    0.3
  ); /* Slightly visible scrollbar thumb */
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(113, 113, 122, 0.5); /* More visible on hover */
}

/* For Firefox */
/* * { */
/*   scrollbar-width: thin; */
/*   scrollbar-color: transparent transparent; */
/* } */

/* Customization Dialog Styles */
#chatbot-customization-dialog .dialog-container {
  width: 90%;
  max-height: 90vh;

  max-width: 500px; /* Slightly wider than auth container */
  text-align: left; /* Align text to the left within the dialog */
  overflow-y: auto;
}

#chatbot-customization-dialog .auth-form {
  gap: 1.5rem; /* Increase gap in customization form */
}

.advanced-settings {
  margin-top: 1rem;
  border-top: 1px solid var(--glass-border);
  padding-top: 1rem;
}

.advanced-settings-toggle {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: color 0.3s ease;
  padding: 0.5rem 0; /* Add some padding for better click area */
}

.advanced-settings-toggle:hover {
  color: var(--text-primary);
}

.advanced-settings-drawer {
  margin-top: 0.5rem;
  padding-left: 1rem; /* Indent drawer content */
  overflow: hidden; /* To help with collapse animation if needed */
}

.advanced-settings-drawer.hidden {
  display: none; /* Ensure drawer is initially hidden */
}

#chatbot-customization-dialog .form-group__label {
  font-size: 1rem; /* Slightly increase label size in dialog */
}

#chatbot-customization-dialog .form-group__input {
  padding: 0.9rem 0.75rem; /* Slightly increase input padding in dialog */
}

#chatbot-customization-dialog .auth-form__button {
  margin-top: 1.5rem; /* Add some margin before the submit button in dialog */
}

/* Add these styles at the end of the file */
.action-buttons-container {
  display: flex;
  gap: 0.75rem;
  padding: 0.5rem 1rem;
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  border-radius: var(--border-radius);
  margin-bottom: 0.5rem;
  border: 1px solid var(--glass-border);
  animation: slideIn 0.3s ease-out;
  overflow-x: auto;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
}

.action-btn {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  padding: 0.5rem 0.75rem;
  cursor: pointer;
  /* position: relative; */
  transition: all 0.3s ease;
  border-radius: var(--border-radius);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  flex-shrink: 0;
}

.action-btn:hover {
  background: rgba(var(--primary-color-rgb), 0.1);
  color: var(--primary-color);
  transform: translateY(-2px);
}

.action-btn:hover::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  z-index: 10;
  transform: translateX(-50%);
  background: var(--glass-bg);
  color: var(--text-primary);
  padding: 0.25rem 0.75rem;
  border-radius: 0.25rem;
  font-size: 0.8rem;
  white-space: nowrap;
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-sm);
  animation: tooltipFade 0.2s ease-out;
}

#copy-btn.copied {
  color: var(--accent-color) !important;
  z-index: 10;
}

#copy-btn.copied::after {
  content: "Copied!" !important;
  z-index: 10;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes tooltipFade {
  from {
    opacity: 0;
    transform: translate(-50%, 5px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

@media (max-width: 768px) {
  .action-buttons-container {
    gap: 0.4rem;
    padding: 0.5rem;
  }

  .action-btn {
    padding: 0.5rem 0.7rem;
    font-size: 0.85rem;
  }

  .action-btn i {
    font-size: 0.8em;
  }

  .action-btn span {
    display: inline-block; /* Ensure text stays inline */
  }
}

.action-btn[data-action*="professional"] {
  color: #8b5cf6; /* Purple accent */
}

.action-btn[data-action*="Proceed"] {
  color: #8b5cf6; /* Purple accent */
}

.action-btn[data-action*="casual"] {
  color: #4ade80; /* Green accent */
}

.action-btn[data-action*="creative"] {
  color: #f59e0b; /* Orange accent */
}

/* Add these styles to your CSS */
.action-btn[data-action="regenerate this response"] {
  color: #8b5cf6; /* Purple */
  border: 1px solid rgba(139, 92, 246, 0.2);
}

.action-btn[data-action="make it shorter"] {
  color: #60a5fa; /* Blue */
  border: 1px solid rgba(96, 165, 250, 0.2);
}

.action-btn[data-action="make it longer"] {
  color: #34d399; /* Green */
  border: 1px solid rgba(52, 211, 153, 0.2);
}

.action-btn[data-action="Give me a summary of this"] {
  color: #f472b6; /* Pink */
  border: 1px solid rgba(244, 114, 182, 0.2);
}

.action-btn[data-action="continue from where you stopped"] {
  color: #f59e0b; /* Orange */
  border: 1px solid rgba(245, 158, 11, 0.2);
}

.action-btn[data-action="rephrase"] {
  color: #818cf8; /* Indigo */
  border: 1px solid rgba(129, 140, 248, 0.2);
}

.action-btn[data-action="sound more professional"] {
  color: #38bdf8; /* Sky Blue */
  border: 1px solid rgba(56, 189, 248, 0.2);
}

.action-btn[data-action="Proceed"] {
  color: #38bdf8; /* Sky Blue */
  border: 1px solid rgba(56, 189, 248, 0.2);
}

.action-btn[data-action="sound more casual"] {
  color: #4ade80; /* Mint Green */
  border: 1px solid rgba(74, 222, 128, 0.2);
}

.action-btn[data-action="sound more creative"] {
  color: #f43f5e; /* Rose Red */
  border: 1px solid rgba(244, 63, 94, 0.2);
}

.action-btn[data-action="Give me more"] {
  color: #818cf8; /* Indigo */
  border: 1px solid rgba(129, 140, 248, 0.2);
}

#copy-btn {
  color: #c084fc; /* Lavender */
  border: 1px solid rgba(192, 132, 252, 0.2);
}

/* Hover Effects */
.action-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  transform: translateY(-2px);
}

.action-btn[data-action="regenerate this response"]:hover {
  background: rgba(139, 92, 246, 0.1);
}

.action-btn[data-action="make it shorter"]:hover {
  background: rgba(96, 165, 250, 0.1);
}

.action-btn[data-action="make it longer"]:hover {
  background: rgba(52, 211, 153, 0.1);
}

.action-btn[data-action="Give me a summary of this"]:hover {
  background: rgba(244, 114, 182, 0.1);
}

.action-btn[data-action="continue from where you stopped"]:hover {
  background: rgba(245, 158, 11, 0.1);
}

.action-btn[data-action="rephrase"]:hover {
  background: rgba(129, 140, 248, 0.1);
}

.action-btn[data-action="sound more professional"]:hover {
  background: rgba(56, 189, 248, 0.1);
}

.action-btn[data-action="Proceed"]:hover {
  background: rgba(56, 189, 248, 0.1);
}

.action-btn[data-action="sound more casual"]:hover {
  background: rgba(74, 222, 128, 0.1);
}

.action-btn[data-action="sound more creative"]:hover {
  background: rgba(244, 63, 94, 0.1);
}

.action-btn[data-action="Give me more"]:hover {
  background: rgba(56, 189, 248, 0.1);
}

#copy-btn:hover {
  background: rgba(192, 132, 252, 0.1);
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  .action-btn {
    border-width: 1px;
    padding: 0.5rem 0.8rem;
  }

  .action-btn span {
    display: inline; /* Ensure text remains visible */
  }
}

/* Add this to styles.css */
.message--bot table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  border-radius: var(--border-radius);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.message--bot th,
.message--bot td {
  padding: 0.75rem;
  border: 1px solid var(--glass-border);
  text-align: left;
  color: var(--text-primary);
}

.message--bot th {
  background-color: rgba(var(--primary-color-rgb), 0.2);
  font-weight: 600;
  color: var(--primary-color);
}

.message--bot tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.03);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .message--bot table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
  }

  .message--bot th,
  .message--bot td {
    min-width: 120px;
  }
}

/* Code block copy buttons */
.message--bot pre {
  position: relative;
  margin: 0.5rem 0;
  padding: 1rem;
  border-radius: var(--border-radius);
  background: rgba(0, 0, 0, 0.3) !important;
}

.code-copy-btn {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: var(--text-secondary);
  padding: 0.3rem 0.5rem;
  border-radius: 0.25rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.code-copy-btn:hover {
  background: var(--primary-color);
  color: white;
}

.code-copy-btn i {
  font-size: 0.8em;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .code-copy-btn {
    padding: 0.25rem 0.4rem;
  }
}

/* File upload styles */
.file-upload-container {
  position: relative;
}

#upload-button {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  margin-right: 0.5rem;
}

.file-preview {
  max-width: 200px;
  margin: 0.5rem 0;
  border-radius: var(--border-radius);
  position: relative;
}

.file-preview img {
  max-width: 100%;
  border-radius: var(--border-radius);
}

.remove-file {
  position: absolute;
  top: 0.2rem;
  right: 0.2rem;
  background: rgba(0, 0, 0, 0.7);
  border: none;
  color: white;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  cursor: pointer;
}

.message--user img {
  max-width: 100%;
  border-radius: var(--border-radius);
  margin-top: 0.5rem;
}

.message--user .file-meta {
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
  padding: 0.5rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--border-radius);
}

.file-preview-container {
  display: flex;
  gap: 0.5rem;
  padding: 0.5rem 0;
  flex-wrap: wrap;
}

.file-preview {
  position: relative;
  max-width: 150px;
  border-radius: var(--border-radius);
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  padding: 0.5rem;
}

.file-preview img {
  max-width: 100%;
  border-radius: var(--border-radius);
}

.remove-file {
  position: absolute;
  top: -8px;
  right: -8px;
  background: var(--primary-color);
  border: none;
  color: white;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

.file-meta {
  font-size: 0.9rem;
  color: var(--text-secondary);
  padding: 0.25rem;
}
/* Add to styles.css */
.input-preview-container {
  display: flex;
  gap: 0.5rem;
  padding: 0.5rem 0;
  flex-wrap: wrap;
}

.input-preview {
  position: relative;
  max-width: 150px;
  border-radius: var(--border-radius);
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  padding: 0.5rem;
}

.input-preview img {
  max-width: 100%;
  border-radius: var(--border-radius);
}

.remove-preview {
  position: absolute;
  top: -8px;
  right: -8px;
  background: var(--primary-color);
  border: none;
  color: white;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Add these after existing message styles */
.message.streaming {
  background: rgba(255, 255, 255, 0.03);
  border-left: 3px solid var(--primary-color);
  position: relative;
  /* overflow: hidden; */
}

.message.streaming::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(to right, var(--primary-color), transparent 70%);
  animation: streaming-line 2s infinite;
}

.streaming-cursor {
  display: inline-block;
  width: 8px;
  height: 1em;
  background: currentColor;
  margin-left: 2px;
  vertical-align: text-bottom;
  animation: blink 0.5s infinite;
  opacity: 0.7;
}

/* Add to existing animations */
@keyframes blink {
  0%,
  100% {
    opacity: 0.2;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes streaming-line {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Enhanced error states */
.stream-error {
  background: rgba(239, 68, 68, 0.15) !important;
  border-color: rgba(239, 68, 68, 0.3) !important;
}

.stream-error::before {
  content: "⚠️";
  position: absolute;
  left: -2rem;
  top: 50%;
  transform: translateY(-50%);
  filter: drop-shadow(0 0 2px rgba(239, 68, 68, 0.5));
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .message.streaming::after {
    height: 1px;
  }

  .streaming-cursor {
    width: 6px;
    height: 0.9em;
  }
}

/* Collapsible Sidebar */
.sidebar__header {
  position: relative;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.sidebar__header:hover {
  background-color: rgba(255, 255, 255, 0.03);
}

.sidebar__toggle {
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-secondary);
  transition: transform 0.3s ease;
}

.sidebar.collapsed {
  width: 60px;
  overflow: hidden;
}

.sidebar.collapsed .sidebar__site-title,
.sidebar.collapsed .sidebar__conversation-list li {
  opacity: 0;
  pointer-events: none;
}

.sidebar.collapsed .sidebar__toggle {
  transform: translateY(-50%) rotate(180deg);
}

.sidebar.collapsed .sidebar__nav {
  visibility: hidden;
}

/* Animate sidebar collapse/expand */
.sidebar {
  transition: width 0.3s ease, transform 0.3s ease;
}

/* Adjust chat area when sidebar collapses */
.sidebar:not(.collapsed) + .chat-area {
  width: calc(100% - 250px);
}

.sidebar.collapsed + .chat-area {
  width: calc(100% - 60px);
}

@media (max-width: 768px) {
  .sidebar__toggle {
    display: none;
  }

  .sidebar.collapsed {
    width: 250px;
    transform: translateX(-250px);
  }

  .sidebar.collapsed + .chat-area {
    width: 100%;
  }

  .sidebar:not(.collapsed) + .chat-area {
    width: 100%;
  }
}

/* Add to styles.css */
.sidebar__toggle {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  padding: 0.5rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: all 0.3s ease;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sidebar__toggle:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--primary-color);
  transform: scale(1.1);
}

.sidebar__toggle i {
  font-size: 1.2rem;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Rotate icon when collapsed */
.sidebar.collapsed .sidebar__toggle i {
  transform: rotate(180deg);
}

/* Add subtle shadow */
.sidebar__toggle {
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

/* Mobile hiding */
@media (max-width: 768px) {
  .sidebar__toggle {
    display: none;
  }
}

/* Add to styles.css */
/* Customization Dialog Restyle */
#chatbot-customization-dialog .dialog-container {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(20px) saturate(180%);
  padding: 2rem;
  border-radius: var(--border-radius);
  max-width: 450px;
}

#chatbot-customization-dialog .auth-container__title {
  font-size: 1.5rem;
  margin-bottom: 1.5rem;
  background: linear-gradient(
    to right,
    var(--primary-color),
    var(--accent-color)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

#chatbot-customization-dialog .form-group {
  margin-bottom: 1.2rem;
}

#chatbot-customization-dialog .form-group__label {
  font-size: 0.95rem;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  display: block;
  font-weight: 500;
  background: rgba(255, 255, 255, 0.05);
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
  border: 1px solid var(--glass-border);
}

#chatbot-customization-dialog select.form-group__input,
#chatbot-customization-dialog input.form-group__input {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid var(--glass-border);
  color: var(--text-primary);
  padding: 0.8rem 1rem;
  border-radius: var(--border-radius);
  width: 100%;
  transition: all 0.3s ease;
}

#chatbot-customization-dialog select.form-group__input:hover,
#chatbot-customization-dialog input.form-group__input:hover {
  border-color: var(--primary-color);
}

#chatbot-customization-dialog select.form-group__input:focus,
#chatbot-customization-dialog input.form-group__input:focus {
  box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.2);
}

/* Hide AI Model Selector */
#chatbot-customization-dialog #ai-model-select,
#chatbot-customization-dialog #ai-model-select + .form-group__label {
  display: none;
}

/* Advanced Settings Restyle */
.advanced-settings {
  margin-top: 1.5rem;
  border-top: 1px solid var(--glass-border);
  padding-top: 1.5rem;
}

.advanced-settings-toggle {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid var(--glass-border) !important;
  border-radius: var(--border-radius) !important;
  padding: 0.75rem 1rem !important;
  width: 100%;
  justify-content: space-between !important;
}

.advanced-settings-toggle:hover {
  background: rgba(var(--primary-color-rgb), 0.1) !important;
  color: var(--primary-color) !important;
}

/* Slider Styling */
input[type="range"].form-group__input {
  -webkit-appearance: none;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 10px;
  height: 6px;
  margin-top: 1rem;
}

input[type="range"].form-group__input::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  background: var(--primary-color);
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.2s ease;
}

input[type="range"].form-group__input::-webkit-slider-thumb:hover {
  transform: scale(1.2);
}

/* Button Restyle */
#chatbot-customization-dialog .auth-form__button {
  background: linear-gradient(
    to right,
    rgba(var(--primary-color-rgb), 0.8),
    rgba(124, 58, 237, 0.8)
  );
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  padding: 1rem 2rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  margin-top: 1.5rem;
  transition: all 0.3s ease;
  width: 100%;
}

#chatbot-customization-dialog .auth-form__button:hover {
  background: linear-gradient(to right, var(--primary-color), #7c3aed);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

#cancel-customization-button {
  background: transparent !important;
  border: 1px solid var(--glass-border) !important;
  margin-top: 1rem;
}

#cancel-customization-button:hover {
  background: rgba(255, 255, 255, 0.05) !important;
  border-color: var(--primary-color) !important;
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  #chatbot-customization-dialog .dialog-container {
    width: 95%;
    padding: 1.5rem;
  }

  #chatbot-customization-dialog .auth-container__title {
    font-size: 1.3rem;
  }
}
.chat-messages {
  scroll-behavior: smooth;
  overflow-anchor: none;
}

.message:last-child {
  overflow-anchor: auto;
}

/* Dynamic Select Styling */
#task-select {
  transition: all 0.3s ease;
}

/* Description Textarea */
#description-input {
  resize: vertical;
  min-height: 100px;
  padding: 1rem;
  line-height: 1.5;
}

/* Task Type Animation */
.form-group__label {
  transition: transform 0.3s ease, opacity 0.3s ease;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  #task-type-select,
  #task-select {
    font-size: 0.9rem;
  }

  #description-input {
    min-height: 80px;
  }
}

/* Model Indicator */
.model-indicator {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  background: rgba(255, 255, 255, 0.1);
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.model-indicator__icon {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.model-indicator__icon--flash {
  background: #00ff88;
  box-shadow: 0 0 8px #00ff8860;
}

.model-indicator__icon--pro {
  background: #8b5cf6;
  box-shadow: 0 0 8px #8b5cf660;
}

/* In styles.css */
.action-btn[data-action="Use ideal scenerio"] {
  color: #c084fc; /* Matching purple accent */
  border: 1px solid rgba(192, 132, 252, 0.2);
}

.action-btn[data-action="Use ideal scenerio"]:hover {
  background: rgba(192, 132, 252, 0.1);
}

/* Add to existing action button styles */
.action-btn[data-action="Use ideal scenerio"] {
  color: #8b5cf6; /* Use primary color */
  border: 1px solid rgba(139, 92, 246, 0.2);
}

.action-btn[data-action="Use ideal scenerio"]:hover {
  background: rgba(139, 92, 246, 0.1);
  color: #7c3aed; /* Darker purple on hover */
}

/* Add icon alignment fix */
.action-btn i.fab {
  font-size: 0.9em; /* Match other icons */
  vertical-align: middle;
}

.action-btn[data-action="Take the last response and rewrite it in a way that feels human-written. Use a conversational tone with varied sentence structures, natural phrasing, and occasional filler words like 'Honestly' or 'You know.' Add subtle imperfections, such as slight redundancy, minor grammar quirks, or informal transitions. Include relatable touches like shared experiences or emotions, and avoid robotic phrasing or excessive polish. Make sure the rewritten response sounds dynamic, thoughtful, and natural while maintaining its clarity and purpose."] {
  color: #c084fc; /* Matching purple accent */
  border: 1px solid rgba(192, 132, 252, 0.2);
}


.action-btn[data-action="Take the last response and rewrite it in a way that feels human-written. Use a conversational tone with varied sentence structures, natural phrasing, and occasional filler words like 'Honestly' or 'You know.' Add subtle imperfections, such as slight redundancy, minor grammar quirks, or informal transitions. Include relatable touches like shared experiences or emotions, and avoid robotic phrasing or excessive polish. Make sure the rewritten response sounds dynamic, thoughtful, and natural while maintaining its clarity and purpose."]:hover {
  background: rgba(192, 132, 252, 0.1);
}

/* Add to existing action button styles */
.action-btn[data-action="Take the last response and rewrite it in a way that feels human-written. Use a conversational tone with varied sentence structures, natural phrasing, and occasional filler words like 'Honestly' or 'You know.' Add subtle imperfections, such as slight redundancy, minor grammar quirks, or informal transitions. Include relatable touches like shared experiences or emotions, and avoid robotic phrasing or excessive polish. Make sure the rewritten response sounds dynamic, thoughtful, and natural while maintaining its clarity and purpose."] {
  color: #8b5cf6; /* Use primary color */
  border: 1px solid rgba(139, 92, 246, 0.2);
}

.action-btn[data-action="Take the last response and rewrite it in a way that feels human-written. Use a conversational tone with varied sentence structures, natural phrasing, and occasional filler words like 'Honestly' or 'You know.' Add subtle imperfections, such as slight redundancy, minor grammar quirks, or informal transitions. Include relatable touches like shared experiences or emotions, and avoid robotic phrasing or excessive polish. Make sure the rewritten response sounds dynamic, thoughtful, and natural while maintaining its clarity and purpose."]:hover {
  background: rgba(139, 92, 246, 0.1);
  color: #7c3aed; /* Darker purple on hover */
}

.MathJax {
  outline: 0;
  display: inline-block !important;
  vertical-align: middle;
}

mjx-container {
  display: inline-block !important;
  vertical-align: middle !important;
}

.mathjax-preview {
  unicode-bidi: -moz-isolate;
  unicode-bidi: isolate;
}

/* Fix for subscript/superscript alignment */
mjx-sub, mjx-sup {
  vertical-align: middle !important;
}

.files-container {
  margin-top: 0.5rem;
}

.file-preview {
  margin-bottom: 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.5rem; /* Spacing between icon/image and filename */
}

.message-image {
  max-width: 100%; /* Limit image width to message container */
  max-height: 200px; /* Limit image height */
  border-radius: var(--border-radius);
}